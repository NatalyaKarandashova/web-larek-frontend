# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Архитектура 
UML-схему проекта можно постреть в следующем фале: web-larek.drawio.png

## Базовый код
### Класс Product
Используется для хранения информации о товаре. 
Содержит следующие атрибуты: 
- id - уникальный идентификатор;
- name  - название товара;
- price - цена товара;
- description -  описание товара;
- image - изображение товара.

Класс Product содержит следующие методы: 
- getCatalog() - возвращает список всех товаров (каталог). Работает с массивами объектов типа Product[];
- populateCatalog() - заполняет каталог товарами. Работает с массивами объектов типа Product[].

### Класс CustomerData 
Используется для хранения данных о покупателе.
Содержит следующие данные: 
- name - ФИО покупателя; 
- email - почтовый адрес покупателя
- phone - номер телефона; 
- address - адрес доставка
- cartItems - список товаров в корзине;
- paymentMethod - способ оплаты.

Конструктор класса содержит  следующие методы: 
addToCart - добавляет товар в корзину;
removeFromCart - удаляет товар из корзины по идентификатору
getCartTotal - рассчитывает общую стоимость товаров в корзине
clearCart - очищает корзину;
validateData - проверяет, праильно ли заполнены данные покупателя.

### Класс EventEmmiter

Реализует паттерн “Наблюдатель” и позволяет подписываться на события и уведомлять подписчиков о наступлении  события. 
Класс имеет методы on, off, emit - для подписки на событие, отписки от события и уведомления подписчиков о наступлении события соответственно.
Также в классе EventEmmiter содержаться  методы onAll и offAll - необходимы для подписки на все события и сброса всех подписчиков. 
Метод trigger - генерирует заданное событие с заданными аргументами.  Это позволяет передавать его в качестве обработчика события в другие классы. Эти классы будут генерировать события, не будучи при этом напрямую зависимыми от класса  EventEmitter. 

### Класс View 
Данный класс служит для отображения информации на странице. Имеет следующие методы: 
- renderProductList () - отображает список товаров. В качестве аргумента использует массив объектов типа Product;
- updateCart() - обновляет содержимое корзины. В качестве аргумента использует массив объектов типа Product;
- showOrderSummary() - показывает итоговую информацию и заказе. В качестве аргумента используется объект типа CustomerData, который содержит информацию о покупателе и его заказе.

### Класс Controller 
Данный класс выполняет роль посредника между моделями Model и представлениями View в архитекутре MVC. 
В конкретном проекте класс Controller связывает слои данных Model и пользовательского интерфейса View, реализует бизнес-логику, связанную с работой приложения. Он получает действия пользователя и передает их в модели для обработки. 
Класс содержит следующие методы: 
- addToCart() - добавляет товар в корзину,используя его идентификатор;
- removeFromCart() - удаляет товар из корзины по его идентификатору;
- updateCustomerData() - обновляет информацию о покупателе;
- completeOrder() - завершает процесс оформления заказа;


## Связи между классами

### Controller ➡️ Product
Тип связи: ассоциация;
Метка: fetches & populates catalog 
Описание: контроллер получает данные каталога (fetches) через метод getCatalog и может заполнять каталог товарами (populates) через метод populateCatalog.

### Controller ➡️ CustomerData
Тип связи: ассоциация;
Метка: manages data
Описание: контроллер управляет данными покупателя, используя методы addToCart, removeFromCart, и другие.

### Controller ➡️ EventEmitter
Тип связи: ассоциация;
Метка: fires events
Описание: контроллер публикует события через EventEmitter, например, уведомление о том, что корзина обновлена.

### EventEmitter ➡️ View
Тип связи: ассоциация;
Метка: notifies updates
Описание: EventEmitter уведомляет View о событиях, таких как обновление корзины.

### View ➡️ EventEmitter
Тип связи: ассоциация;
Метка: listens to events
Описание:  View подписывается на события через EventEmitter, чтобы реагировать на изменения данных.

### CustomerData ➡️ Product
Тип связи: агрегация
Метка: -
Описание:  Корзина (cartItems) содержит товары, но товары существуют независимо от корзины.

